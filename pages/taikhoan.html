<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tài Khoản Của Tôi</title>
    <link rel="stylesheet" href="../css/taikhoan.css"> <style>
        /* CSS tạm thời để dễ hình dung layout, bạn nên chuyển vào taikhoan.css */
        body { font-family: Arial, sans-serif; margin: 0; background-color: #f4f4f4; }
        .account-container { display: flex; max-width: 1200px; margin: 20px auto; background-color: #fff; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        .account-sidebar { width: 250px; padding: 20px; border-right: 1px solid #eee; background-color: #fff; }
        .account-sidebar ul { list-style: none; padding: 0; margin: 0; }
        .account-sidebar ul li a { display: block; padding: 10px 15px; color: #333; text-decoration: none; border-radius: 4px; margin-bottom: 5px; }
        .account-sidebar ul li a.active, .account-sidebar ul li a:hover { background-color: #ffe8e1; color: orangered; }
        .account-main { flex-grow: 1; padding: 20px 40px; }
        .profile-header { margin-bottom: 20px; padding-bottom:15px; border-bottom:1px solid #eee;}
        .profile-header h1 { font-size: 24px; margin: 0; color: #333; }
        .profile-header p { font-size: 14px; color: #777; margin-top:5px;}
        .profile-content { display: flex; }
        .profile-form { flex-grow: 1; }
        .form-group { margin-bottom: 20px; display: flex; align-items: center; }
        .form-group label { width: 150px; color: #555; font-size: 14px; text-align: right; margin-right: 20px;}
        .form-group .input-control { flex-grow: 1; }
        .form-group input[type="text"], .form-group input[type="email"], .form-group input[type="date"] {
            width: calc(100% - 22px); padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-size:14px;
        }
        .form-group .readonly-text { padding: 10px 0; font-size: 14px; color: #333;}
        .form-group .change-link { margin-left: 10px; font-size: 13px; color: orangered; text-decoration: none; }
        .form-group .radio-group label { margin-right:15px; width: auto; text-align: left;}
        .profile-avatar { width: 200px; margin-left: 40px; text-align: center; }
        .profile-avatar img { width: 120px; height: 120px; border-radius: 50%; margin-bottom: 10px; border: 1px solid #eee; object-fit: cover;}
        .profile-avatar .btn-choose-avatar { display: block; width:100%; padding: 8px; border: 1px solid #ccc; background-color: #fff; cursor: pointer; border-radius:4px; font-size:13px; margin-bottom:5px;}
        .profile-avatar .avatar-note {font-size:12px; color:#999;}
        .btn-save { background-color: orangered; color: white; padding: 12px 30px; border: none; border-radius: 4px; cursor: pointer; font-size:15px; display:inline-block; margin-left: 170px; /* 150px (label width) + 20px (margin) */ }
    </style>
</head>
<body>
    <div id="header"></div>

    <div class="account-container">
        <aside class="account-sidebar">
            <ul>
                <li><a href="#">Thông Báo</a></li>
                <li><a href="taikhoan.html" class="active">Tài Khoản Của Tôi</a>
                    <ul style="padding-left: 20px; list-style: disc; margin-top:5px;">
                        <li><a href="taikhoan.html" class="active" style="font-weight:bold;">Hồ Sơ</a></li>
                        <li><a href="#">Ngân Hàng</a></li>
                        <li><a href="#">Địa Chỉ</a></li>
                        <li><a href="#">Đổi Mật Khẩu</a></li>
                    </ul>
                </li>
                <li><a href="#">Đơn Mua</a></li>
                </ul>
        </aside>
        <main class="account-main">
    <div class="profile-header">
        <h1 id="section-title">Hồ Sơ Của Tôi</h1>
        <p id="section-description">Quản lý thông tin hồ sơ để bảo mật tài khoản</p>
    </div>

    <div class="profile-content" id="section-profile">
        <!-- === HỒ SƠ === -->
        <div class="profile-form">
            <form id="profileForm">
                <!-- Các trường Hồ sơ như đã có -->
                <div class="form-group">
                    <label for="username">Tên đăng nhập</label>
                    <div class="input-control"><span id="username" class="readonly-text"></span></div>
                </div>
                <div class="form-group">
                    <label for="fullName">Tên</label>
                    <div class="input-control"><input type="text" id="fullName" name="fullName"></div>
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <div class="input-control"><span id="email" class="readonly-text"></span></div>
                </div>
                <div class="form-group">
                    <label for="phone">Số điện thoại</label>
                    <div class="input-control"><span id="phone" class="readonly-text"></span></div>
                </div>
                <div class="form-group">
                    <label>Giới tính</label>
                    <div class="input-control radio-group">
                        <input type="radio" id="gender_male" name="gender" value="MALE"><label for="gender_male">Nam</label>
                        <input type="radio" id="gender_female" name="gender" value="FEMALE"><label for="gender_female">Nữ</label>
                        <input type="radio" id="gender_other" name="gender" value="OTHER"><label for="gender_other">Khác</label>
                    </div>
                </div>
                <div class="form-group">
                    <label for="dateOfBirth">Ngày sinh</label>
                    <div class="input-control"><input type="date" id="dateOfBirth" name="dateOfBirth"></div>
                </div>
                <div class="form-group">
                    <button type="submit" class="btn-save">Lưu</button>
                </div>
            </form>
        </div>
        <div class="profile-avatar">
            <img id="avatarPreview" src="../assets/default-avatar.png" alt="Avatar">
            <button type="button" class="btn-choose-avatar">Chọn Ảnh</button>
            <p class="avatar-note">Dung lượng file tối đa 1 MB<br>Định dạng: .JPEG, .PNG</p>
        </div>
    </div>

    <!-- === NGÂN HÀNG === -->
    <div class="profile-content" id="section-bank" style="display:none;">
        <div class="profile-form">
            <form>
                <div class="form-group">
                    <label for="bankName">Ngân hàng</label>
                    <div class="input-control"><input type="text" id="bankName" placeholder="Vietcombank"></div>
                </div>
                <div class="form-group">
                    <label for="accountNumber">Số tài khoản</label>
                    <div class="input-control"><input type="text" id="accountNumber" placeholder="0123456789"></div>
                </div>
                <div class="form-group">
                    <label for="accountHolder">Chủ tài khoản</label>
                    <div class="input-control"><input type="text" id="accountHolder" placeholder="Tên chủ tài khoản"></div>
                </div>
                <div class="form-group">
                    <button type="submit" class="btn-save">Lưu</button>
                </div>
            </form>
        </div>
    </div>

    <!-- === ĐỊA CHỈ === -->
    <!-- Tab Địa Chỉ -->
<div class="profile-content" id="section-address" style="display:none; flex-direction: column;">
    <button id="btnAddAddress" style="align-self: flex-end; margin-bottom: 10px;" class="btn-save">+ Thêm địa chỉ</button>
    <div id="addressList"></div>
</div>

<!-- Popup form địa chỉ -->
<div id="addressModal" class="modal" style="display:none;">
    <div class="modal-content">
        <h3 id="modalTitle">Thêm địa chỉ</h3>
        <form id="addressForm">
    <input type="hidden" id="addressId">
    <input type="hidden" id="addressUpdateUrl">

    <div class="form-group">
        <label for="recipientName">Người nhận</label>
        <div class="input-control">
            <input type="text" id="recipientName" required>
        </div>
    </div>

    <div class="form-group">
        <label for="addressPhone">Số điện thoại</label>
        <div class="input-control">
            <input type="text" id="addressPhone" required>
        </div>
    </div>

    <div class="form-group">
        <label for="detailAddress">Địa chỉ chi tiết</label>
        <div class="input-control">
            <input type="text" id="detailAddress" required>
        </div>
    </div>

    <div class="form-group">
        <label for="isDefault" style="text-align: left;">Đặt làm địa chỉ mặc định</label>
        <div class="input-control" style="justify-content: flex-start;">
            <input type="checkbox" id="isDefault">
        </div>
    </div>

    <div style="margin-top: 15px; text-align: center;">
        <button type="submit" class="btn-save">Lưu</button>
        <button type="button" id="btnCloseModal" class="btn-save" style="background-color: gray;">Hủy</button>
    </div>
</form>

    </div>
</div>


    <!-- === ĐỔI MẬT KHẨU === -->
    <div class="profile-content" id="section-password" style="display:none;">
        <div class="profile-form">
            <form>
                <div class="form-group">
                    <label for="currentPassword">Mật khẩu cũ</label>
                    <div class="input-control"><input type="password" id="currentPassword"></div>
                </div>
                <div class="form-group">
                    <label for="newPassword">Mật khẩu mới</label>
                    <div class="input-control"><input type="password" id="newPassword"></div>
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Xác nhận</label>
                    <div class="input-control"><input type="password" id="confirmPassword"></div>
                </div>
                <div class="form-group">
                    <button type="submit" class="btn-save">Đổi mật khẩu</button>
                </div>
            </form>
        </div>
    </div>
</main>

    </div>

    <script src="../js/taikhoan.js"></script>
    <script src="../js/index.js"></script> </body>
</html>